<!DOCTYPE html>
<html class="no-js" lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Map | 攻城狮小武</title>
  <meta name="viewport" content="width=1430, initial-scale=1">

  <link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="攻城狮小武 &raquo; Feed" href="/feed" />
<link rel="alternate" type="application/rss+xml" title="攻城狮小武 &raquo; 评论Feed" href="/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="攻城狮小武 &raquo; Map标签Feed" href="/archives/tag/map/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.tiaobug.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.12"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-tomorrow-night-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/tomorrow-night/tomorrow-night.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='dw_timeline_main-css'  href='/wp-content/themes/dw-timeline/assets/css/main.css?ver=6c39f42987ae297a5a21e2bb35bf3402' type='text/css' media='all' />
<link rel='stylesheet' id='dw_timeline_style-css'  href='/wp-content/themes/dw-timeline/style.css?ver=c1a58eb4baaf24c3771085df3d54ff8d' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.tiaobug.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/modernizr-2.7.0.min.js'></script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/nivo-lightbox.min.js'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.8.12" />
<link rel="shortcut icon" href="/wp-content/uploads/2017/12/WP3-副本.jpg">    <style>
    
        
    
          .banner hgroup:after {
        background: none;
      }   
    
    </style>    
    <link rel="icon" href="/wp-content/uploads/2017/12/cropped-WP3-副本-32x32.jpg" sizes="32x32" />
<link rel="icon" href="/wp-content/uploads/2017/12/cropped-WP3-副本-192x192.jpg" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="/wp-content/uploads/2017/12/cropped-WP3-副本-180x180.jpg" />
<meta name="msapplication-TileImage" content="http://www.tiaobug.com/wp-content/uploads/2017/12/cropped-WP3-副本-270x270.jpg" />
		<style type="text/css" id="wp-custom-css">
			/*
您可以在此处加入您的CSS。

点击上方的帮助图标来了解更多。
*/
.wrap {
    padding-bottom: 100px;
}
.bottom-info{
    clear: both;
    position: fixed;
    bottom: 0px;
    background-color: #e5e5e5;
    z-index: 1000;
    text-align: center;
    width: 100%;
}		</style>
	  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?d68c66f0010a97131e967e4bab927275";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</head>
<body class="archive tag tag-map tag-11">
    
<header class="banner cover" role="banner">
  <div class="header-inner">
      <nav class="nav-main" role="navigation">
        <div class="container">
                </div>
      </nav>
              <hgroup>
          <div class="container">
            <h1 class="page-title" style="border:0px">
              <a href="/contactme">Map</a>
            </h1>
            <h2 class="page-description">tiaobug.com</h2>
            <button id="get-started" class="btn btn-default btn-coner">来都来了，瞅两眼吧！</button>
          </div>
        </hgroup>
        </div>
</header>  <div class="wrap container" role="document">
    <div class="content row">
      <main class="main col-sm-12" role="main">
        <div class="timeline two-col">
  <div data-page="1" class="timeline-pale dwtl full"><span>Page 1</span></div>
                <article data-page="1" class="post-43 post type-post status-publish format-standard hentry category-uncategorized tag-map tag-tiles tag-10 tag-9 dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/43.html">在高德地图上覆盖自定义的栅格图片，达到展示自己地图的效果</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/43.html"><time class="published" datetime="2016-01-12T13:22:31+00:00">2016年1月12日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>最近有个需求，需要把手绘的地图覆盖到高德的地图上去，查阅了一下高德的API，发现可以做，同时也学习了地图的展现形式，解了以前的一个很大的疑惑，地图是如何存储和加载的。</p>
<p>总结了一下技术要点：</p>
<ol>
<li>地图有三个重要参数XYZ，其中Z指的是缩放的级别，从1-18，也有到20的。</li>
<li>在任一缩放级别下，每张图片的长宽都是256px。</li>
<li>参数中的XY是指在当前缩放级别，把整个世界平铺成正方形，然后按照256px大小的进行切割，得到的图片的编号。</li>
<li>当正常浏览的时候，浏览器会根据XYZ三个餐具确定要加载的图片。这是为什么网速慢慢的时候能看到地图是一块一块加载的。</li>
</ol>
<p>&nbsp;</p>
<p>所以我们把手绘地图使用一个特殊的工具进行了切割，得到的就会是一部分的图片库，把这部分图片库进行二次加载覆盖原来的地图图片就可以了。</p>
<p>具体代码：</p>
<p>&nbsp;</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5df718bb88ffe394195438" class="crayon-syntax crayon-theme-tomorrow-night crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width"&gt;
    &lt;title&gt;周村导览图-武鹏&lt;/title&gt;
    &lt;link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/&gt;
    &lt;script src="http://webapi.amap.com/maps?v=1.3&amp;key=608d75903d29ad471362f8c58c550daf&amp;plugin=AMap.Walking"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="container"&gt;&lt;/div&gt;
&lt;script&gt;
    var map = new AMap.Map('container', {
        resizeEnable: true,
        zoom:16,
        maxZoomLevel:18,
        minZoomLevel:14,
        center: [117.842166,36.798194]
    });


    var IUULayer = null;
    // 添加Google图层
    function addIUULayer() {
        IUULayer = new AMap.TileLayer({
            // 图块取图地址
            tileUrl: 'http://xxx.xxx.xxx.xxx/@/iuu/map-tiles/[z]/[x]/[y].png'
        });
        IUULayer.setMap(map);
    }
    //添加自定义的IUU瓦块图层
    addIUULayer();
    //限制显示区域
    map.setLimitBounds(map.getBounds());

    //添加定位插件
    map.plugin('AMap.Geolocation', function() {
        geolocation = new AMap.Geolocation({
            enableHighAccuracy: true,//是否使用高精度定位，默认:true
            timeout: 10000,          //超过10秒后停止定位，默认：无穷大
            buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)
            //zoomToAccuracy: true,      //定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false
            buttonPosition:'RB'
        });
        map.addControl(geolocation);
        geolocation.getCurrentPosition();
        AMap.event.addListener(geolocation, 'complete', onComplete);//返回定位信息
        AMap.event.addListener(geolocation, 'error', onError);      //返回定位出错信息
    });
    //解析定位结果
    function onComplete(data) {
        var str=['定位成功'];
        str.push('经度：' + data.position.getLng());
        str.push('纬度：' + data.position.getLat());
        str.push('精度：' + data.accuracy + ' 米');
        str.push('是否经过偏移：' + (data.isConverted ? '是' : '否'));
        str.join('&lt;br&gt;');

    }
    //解析定位错误信息
    function onError(data) {

    }

    var walking = new AMap.Walking({
        map: map,
    }); 
    walking.search([
        {keyword: '周村古商城(北门)'},
        {keyword: '淄博艺术博物馆'}
    ]);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
			<div class="crayon-main" style=" max-height: 500px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-2">2</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-4">4</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-6">6</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-8">8</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-10">10</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-12">12</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-14">14</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-16">16</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-18">18</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-20">20</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-22">22</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-24">24</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-26">26</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-28">28</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-30">30</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-32">32</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-34">34</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-36">36</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-38">38</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-40">40</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-42">42</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-44">44</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-46">46</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-48">48</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-50">50</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-52">52</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-54">54</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-56">56</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-58">58</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-60">60</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-62">62</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-64">64</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-66">66</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-68">68</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-70">70</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-72">72</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-74">74</div><div class="crayon-num" data-line="crayon-5df718bb88ffe394195438-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718bb88ffe394195438-76">76</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5df718bb88ffe394195438-1"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-e">doctype </span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-2"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-3"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">charset</span><span class="crayon-o">=</span><span class="crayon-s">"utf-8"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">http</span><span class="crayon-o">-</span><span class="crayon-v">equiv</span><span class="crayon-o">=</span><span class="crayon-s">"X-UA-Compatible"</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-o">=</span><span class="crayon-s">"IE=edge"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">meta </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"viewport"</span><span class="crayon-h"> </span><span class="crayon-v">content</span><span class="crayon-o">=</span><span class="crayon-s">"initial-scale=1.0, user-scalable=no, width=device-width"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span>周村导览图<span class="crayon-o">-</span>武鹏<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">link </span><span class="crayon-v">rel</span><span class="crayon-o">=</span><span class="crayon-s">"stylesheet"</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"http://cache.amap.com/lbs/static/main1119.css"</span><span class="crayon-o">/</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"http://webapi.amap.com/maps?v=1.3&amp;key=608d75903d29ad471362f8c58c550daf&amp;plugin=AMap.Walking"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-ta">&lt;script </span><span class="crayon-e">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e">src</span><span class="crayon-o">=</span><span class="crayon-s">"http://cache.amap.com/lbs/static/addToolbar.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-11"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-12"><span class="crayon-o">&lt;</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-13"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"container"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-14"><span class="crayon-ta">&lt;script&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">map</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-e">Map</span><span class="crayon-sy">(</span><span class="crayon-s">'container'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">resizeEnable</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zoom</span><span class="crayon-o">:</span><span class="crayon-cn">16</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">maxZoomLevel</span><span class="crayon-o">:</span><span class="crayon-cn">18</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">minZoomLevel</span><span class="crayon-o">:</span><span class="crayon-cn">14</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">center</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">117.842166</span><span class="crayon-sy">,</span><span class="crayon-cn">36.798194</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-22">&nbsp;</div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">IUULayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 添加Google图层</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">addIUULayer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IUULayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-e">TileLayer</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 图块取图地址</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tileUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'http://xxx.xxx.xxx.xxx/@/iuu/map-tiles/[z]/[x]/[y].png'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IUULayer</span><span class="crayon-sy">.</span><span class="crayon-e">setMap</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//添加自定义的IUU瓦块图层</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">addIUULayer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//限制显示区域</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-e">setLimitBounds</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-e">getBounds</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//添加定位插件</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-e">plugin</span><span class="crayon-sy">(</span><span class="crayon-s">'AMap.Geolocation'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">geolocation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-e">Geolocation</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enableHighAccuracy</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span><span class="crayon-c">//是否使用高精度定位，默认:true</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">timeout</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">10000</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//超过10秒后停止定位，默认：无穷大</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">buttonOffset</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-e">Pixel</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-c">//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//zoomToAccuracy: true,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">buttonPosition</span><span class="crayon-o">:</span><span class="crayon-s">'RB'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-e">addControl</span><span class="crayon-sy">(</span><span class="crayon-v">geolocation</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">geolocation</span><span class="crayon-sy">.</span><span class="crayon-e">getCurrentPosition</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-e">addListener</span><span class="crayon-sy">(</span><span class="crayon-v">geolocation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'complete'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">onComplete</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//返回定位信息</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-v">event</span><span class="crayon-sy">.</span><span class="crayon-e">addListener</span><span class="crayon-sy">(</span><span class="crayon-v">geolocation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'error'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">onError</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//返回定位出错信息</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//解析定位结果</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">onComplete</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">str</span><span class="crayon-o">=</span><span class="crayon-sy">[</span><span class="crayon-s">'定位成功'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-s">'经度：'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">position</span><span class="crayon-sy">.</span><span class="crayon-e">getLng</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-s">'纬度：'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">position</span><span class="crayon-sy">.</span><span class="crayon-e">getLat</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-s">'精度：'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">accuracy</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' 米'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-s">'是否经过偏移：'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-i">isConverted</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-s">'是'</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'否'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;br&gt;'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-60">&nbsp;</div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//解析定位错误信息</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-r">onError</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-64">&nbsp;</div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-66">&nbsp;</div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">walking</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-e">Walking</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">map</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">walking</span><span class="crayon-sy">.</span><span class="crayon-e">search</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-v">keyword</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'周村古商城(北门)'</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-v">keyword</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'淄博艺术博物馆'</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-74"><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-5df718bb88ffe394195438-75"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718bb88ffe394195438-76"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0196 seconds] -->
<p>&nbsp;</p>
    </div>
  </div>
</article>
    
      </div>      </main>
    </div>
  </div>
  <div class="bottom-info">
<div style="font-size: 12px;text-align: center;padding:28px 0 0 0">@娱乐性质的个人Blog，技术文章居多，偶发性会有深思文，请谨慎关注，随意转发，如果可以请把出处写上
</div>
<div style="font-size: 10px;text-align: center;padding:5px 0 0 0">联系我，个人微博，Twitter，FaceBook等等各种账号，请@tiaobug，Email: i@tiaobug.com
</div>
<div style="font-size: 12px;text-align: center;padding:5px 0 12px 0 ">鲁ICP备17013530号
</div>
</div><script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/jquery.infinitescroll.min.js?ver=4.8.12'></script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/bootstrap-3.0.3.min.js?ver=4.8.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var dwtl = {"template_directory_uri":"http:\/\/www.tiaobug.com\/wp-content\/themes\/dw-timeline"};
var infinitescroll = {"page":"page","the_end":"the end"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/scripts.js?ver=4.8.12'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.8.12'></script>

</body>
</html>
