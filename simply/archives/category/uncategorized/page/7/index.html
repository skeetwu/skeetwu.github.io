<!DOCTYPE html>
<html class="no-js" lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>技术总结分享 | 攻城狮小武</title>
  <meta name="viewport" content="width=1430, initial-scale=1">

  <link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="攻城狮小武 &raquo; Feed" href="/feed" />
<link rel="alternate" type="application/rss+xml" title="攻城狮小武 &raquo; 评论Feed" href="/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="攻城狮小武 &raquo; 技术总结分享分类目录Feed" href="/archives/category/uncategorized/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.tiaobug.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.12"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-tomorrow-night-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/tomorrow-night/tomorrow-night.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='dw_timeline_main-css'  href='/wp-content/themes/dw-timeline/assets/css/main.css?ver=6c39f42987ae297a5a21e2bb35bf3402' type='text/css' media='all' />
<link rel='stylesheet' id='dw_timeline_style-css'  href='/wp-content/themes/dw-timeline/style.css?ver=c1a58eb4baaf24c3771085df3d54ff8d' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.tiaobug.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/modernizr-2.7.0.min.js'></script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/nivo-lightbox.min.js'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.8.12" />
<link rel="shortcut icon" href="/wp-content/uploads/2017/12/WP3-副本.jpg">    <style>
    
        
    
          .banner hgroup:after {
        background: none;
      }   
    
    </style>    
    <link rel="icon" href="/wp-content/uploads/2017/12/cropped-WP3-副本-32x32.jpg" sizes="32x32" />
<link rel="icon" href="/wp-content/uploads/2017/12/cropped-WP3-副本-192x192.jpg" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="/wp-content/uploads/2017/12/cropped-WP3-副本-180x180.jpg" />
<meta name="msapplication-TileImage" content="http://www.tiaobug.com/wp-content/uploads/2017/12/cropped-WP3-副本-270x270.jpg" />
		<style type="text/css" id="wp-custom-css">
			/*
您可以在此处加入您的CSS。

点击上方的帮助图标来了解更多。
*/
.wrap {
    padding-bottom: 100px;
}
.bottom-info{
    clear: both;
    position: fixed;
    bottom: 0px;
    background-color: #e5e5e5;
    z-index: 1000;
    text-align: center;
    width: 100%;
}		</style>
	  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?d68c66f0010a97131e967e4bab927275";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</head>
<body class="archive paged category category-uncategorized category-1 paged-7 category-paged-7">
    
<header class="banner cover" role="banner">
  <div class="header-inner">
      <nav class="nav-main" role="navigation">
        <div class="container">
                </div>
      </nav>
              <hgroup>
          <div class="container">
            <h1 class="page-title" style="border:0px">
              <a href="/contactme">技术总结分享</a>
            </h1>
            <h2 class="page-description">tiaobug.com</h2>
            <button id="get-started" class="btn btn-default btn-coner">来都来了，瞅两眼吧！</button>
          </div>
        </hgroup>
        </div>
</header>  <div class="wrap container" role="document">
    <div class="content row">
      <main class="main col-sm-12" role="main">
        <div class="timeline two-col">
  <div data-page="1" class="timeline-pale dwtl full"><span>Page 1</span></div>
      <div class="timeline-scrubber"><ul><li  class="active"  data-page="1"><a href="#" >Page 1</a></li><li  data-page="2"><a href="#" >Page 2</a></li><li  data-page="3"><a href="#" >Page 3</a></li><li  data-page="4"><a href="#" >Page 4</a></li><li  data-page="5"><a href="#" >Page 5</a></li><li  data-page="6"><a href="#" >Page 6</a></li><li  data-page="7"><a href="#" >Page 7</a></li><li  data-page="8"><a href="#" >Page 8</a></li><li  data-page="9"><a href="#" >Page 9</a></li></ul></div>          <article data-page="7" class="post-175 post type-post status-publish format-standard hentry category-uncategorized category-17 dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/175.html">阿里云的产品在续费的时候竟然可以支持减配</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/175.html"><time class="published" datetime="2016-08-10T09:06:39+00:00">2016年8月10日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a>, <a href="/archives/category/%e6%97%a5%e5%b8%b8" rel="category tag">日常</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>想把原来买的阿里云的RDS降降配置，买了个小的RDS准备往里面迁移数据，可是原来库设计相当的操蛋，各种表关系，各种依赖，各种sequence，出现各种问题，前前后后折腾了两天，最后发现就的数据库是不能直接修改配置，但是续费的时候竟然是可以的。直接续费上，到期以后自动配置完事了。</p>
    </div>
  </div>
</article>
          <article data-page="7" class="post-171 post type-post status-publish format-standard hentry category-uncategorized dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/171.html">Access-Control-Allow-Origin允许多域名access</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/171.html"><time class="published" datetime="2016-07-22T13:17:28+00:00">2016年7月22日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>AJAX跨站访问api服务的时候肯定会面临一个问题：</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5df718af09ec9061147526" class="crayon-syntax crayon-theme-tomorrow-night crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" max-width: 500px; margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">报错信息</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
XMLHttpRequest cannot load http://api-cdn.imyuu.com/api/home/scenicquery.do?keyword=ABC, No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://saas.imyuu.com' is therefore not allowed access.</textarea></div>
			<div class="crayon-main" style=" max-width: 500px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5df718af09ec9061147526-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5df718af09ec9061147526-1"><span class="crayon-e">XMLHttpRequest </span><span class="crayon-e">cannot </span><span class="crayon-e">load </span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//api-cdn.imyuu.com/api/home/scenicquery.do?keyword=ABC, No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://saas.imyuu.com' is therefore not allowed access.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>有很多页面端的解决方法，但是代码已经形成不想大动，而且试了几个所谓的jsonp的方法，发现也不大好用。所以打算从服务器端做这个事情。</p>
<p>常见的方法是</p>
<p>response.addHeader(&#8220;Access-Control-Allow-Origin&#8221;, &#8220;*&#8221;);</p>
<p>这样总感觉不安全，所有人都能访问。</p>
<p>想控制多域名，发现通配符不支持：</p>
<p><del> response.addHeader(&#8220;Access-Control-Allow-Origin&#8221;, &#8220;http://*.imyuu.com&#8221;);</del></p>
<p>想连续写两个 ，发现也不行：</p>
<p><del>response.addHeader(&#8220;Access-Control-Allow-Origin&#8221;, &#8220;http://www.imyuu.com&#8221;);</del></p>
<p><del>response.addHeader(&#8220;Access-Control-Allow-Origin&#8221;, &#8220;http://aaa.imyuu.com&#8221;);</del></p>
<p>还有人提供了这样的写法：</p>
<p><del>response.addHeader(&#8220;Access-Control-Allow-Origin&#8221;, &#8220;http://www.imyuu.com,http://aaa.imyuu.com&#8221;);</del></p>
<p>&nbsp;</p>
<p>这就尴尬了，怎么才能满足我呢？</p>
<p>既然不能从response里做返回，那就从request里做个判断吧，判断一下header里的referer不为空的时候，即表示跨站访问的时候，如果来路域名是自己的域名，那么就直接返回*,如果不是则固定返回一个。</p>
<p>代码试验了一下，发现效果拔群，立竿见影。</p>
<p>上代码：</p>
<p>&nbsp;</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5df718af09ed6401592326" class="crayon-syntax crayon-theme-tomorrow-night crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
public class AccessControlInterceptor extends HandlerInterceptorAdapter {

	@Override
	public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)
			throws Exception {

		String refer = request.getHeader("referer");
		if (refer!=null) {
			String domain = refer.split("\\/")[2];

			if (domain.endsWith("imyuu.com")) {
				response.addHeader("Access-Control-Allow-Origin", "*");
			} else {
				response.addHeader("Access-Control-Allow-Origin", "http://saas.imyuu.com");
			}
		}
		
		return true;
	}

}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-2">2</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-4">4</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-6">6</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-8">8</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-10">10</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-12">12</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-14">14</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-16">16</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-18">18</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af09ed6401592326-20">20</div><div class="crayon-num" data-line="crayon-5df718af09ed6401592326-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5df718af09ed6401592326-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">AccessControlInterceptor</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">HandlerInterceptorAdapter</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-2">&nbsp;</div><div class="crayon-line" id="crayon-5df718af09ed6401592326-3"><span class="crayon-h">	</span><span class="crayon-n">@Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-4"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-e">preHandle</span><span class="crayon-sy">(</span><span class="crayon-e">HttpServletRequest </span><span class="crayon-v">request</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">HttpServletResponse </span><span class="crayon-v">response</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">Object</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5df718af09ed6401592326-5"><span class="crayon-h">			</span><span class="crayon-m">throws</span><span class="crayon-h"> </span><span class="crayon-e">Exception</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-6">&nbsp;</div><div class="crayon-line" id="crayon-5df718af09ed6401592326-7"><span class="crayon-h">		</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">refer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-sy">.</span><span class="crayon-e">getHeader</span><span class="crayon-sy">(</span><span class="crayon-s">"referer"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-8"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">refer</span><span class="crayon-o">!=</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5df718af09ed6401592326-9"><span class="crayon-h">			</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">domain</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">refer</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">"\\/"</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-10">&nbsp;</div><div class="crayon-line" id="crayon-5df718af09ed6401592326-11"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">domain</span><span class="crayon-sy">.</span><span class="crayon-e">endsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"imyuu.com"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-12"><span class="crayon-h">				</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">addHeader</span><span class="crayon-sy">(</span><span class="crayon-s">"Access-Control-Allow-Origin"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"*"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718af09ed6401592326-13"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-14"><span class="crayon-h">				</span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">addHeader</span><span class="crayon-sy">(</span><span class="crayon-s">"Access-Control-Allow-Origin"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"http://saas.imyuu.com"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718af09ed6401592326-15"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-16"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5df718af09ed6401592326-17"><span class="crayon-h">		</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-18"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718af09ed6401592326-19"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af09ed6401592326-20">&nbsp;</div><div class="crayon-line" id="crayon-5df718af09ed6401592326-21"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0034 seconds] -->
<p>&nbsp;</p>
<p>最后把拦截器配置一下，完事！</p>
    </div>
  </div>
</article>
          <article data-page="7" class="post-167 post type-post status-publish format-standard hentry category-uncategorized dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/167.html">TIOBE 7月份榜单已经出炉，Java连续一年多的第一的宝座</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/167.html"><time class="published" datetime="2016-07-14T09:45:52+00:00">2016年7月14日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>http://www.tiobe.com/tiobe_index</p>
<p>数据能得出几个有意思的结论：</p>
<p>1，OC在持续下降，从去年的同一时段的第六位跌到第十五位，一是来自swift的压力，另外则是H5和混合编程技术的逐步成熟使其分食了一部分native app开发市场，现在还剩一些维护项目，离嗝屁不远了。</p>
<p>2，java的重新振兴主要原因有两个，一是APP带动的高并发需求促使服务端开发选择JAVA，二是java自身的持续更新和性能优化（幸亏java从SUN手里转到了Oracle）。</p>
<p>3，Python已经可见成大气候。</p>
<p>4，JS早晚一统江湖。</p>
    </div>
  </div>
</article>
          <article data-page="7" class="post-164 post type-post status-publish format-standard hentry category-uncategorized category-17 dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/164.html">把单一产品包装成多产品套装，这是一门学问</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/164.html"><time class="published" datetime="2016-07-09T10:44:31+00:00">2016年7月9日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a>, <a href="/archives/category/%e6%97%a5%e5%b8%b8" rel="category tag">日常</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>通信公司就提供打电话和上网两种基本服务，但是差异化出来上千种组合套餐。</p>
<p>江小白就出一种45度高粱白酒，包装组合成几十种套装，总有一两种套餐比较火爆。</p>
<p>所以，产品单一不可怕，可怕的是切入卖点的组合不够丰富和精准。</p>
    </div>
  </div>
</article>
          <article data-page="7" class="post-159 post type-post status-publish format-standard hentry category-uncategorized category-17 dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/159.html">又开始带New Hire, 把我的小表格拿出来用用。</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/159.html"><time class="published" datetime="2016-07-06T13:06:46+00:00">2016年7月6日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a>, <a href="/archives/category/%e6%97%a5%e5%b8%b8" rel="category tag">日常</a></span>
</div>
    </header>
    <div class="entry-content">
      <p><a href="/wp-content/uploads/2016/07/a.png" rel="attachment wp-att-160"><img class="alignnone size-medium wp-image-160" src="/wp-content/uploads/2016/07/a-212x300.png" alt="a" width="212" height="300" srcset="/wp-content/uploads/2016/07/a-212x300.png 212w, /wp-content/uploads/2016/07/a-768x1087.png 768w, /wp-content/uploads/2016/07/a-723x1024.png 723w, /wp-content/uploads/2016/07/a.png 988w" sizes="(max-width: 212px) 100vw, 212px" /></a></p>
    </div>
  </div>
</article>
          <article data-page="7" class="post-146 post type-post status-publish format-standard hentry category-uncategorized dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/146.html">国内的NPM镜像，没想到是淘宝做的最好。</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/146.html"><time class="published" datetime="2016-05-19T09:20:12+00:00">2016年5月19日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>https://npm.taobao.org/</p>
<p>&nbsp;</p>
<p>使用很简单</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5df718af0d708257347210" class="crayon-syntax crayon-theme-tomorrow-night crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">切换npm源</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
npm install -g cnpm --registry=https://registry.npm.taobao.org</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5df718af0d708257347210-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5df718af0d708257347210-1"><span class="crayon-e">npm </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">g</span><span class="crayon-h"> </span><span class="crayon-v">cnpm</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">registry</span><span class="crayon-o">=</span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//registry.npm.taobao.org</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>&nbsp;</p>
    </div>
  </div>
</article>
          <article data-page="7" class="post-141 post type-post status-publish format-standard hentry category-uncategorized category-17 dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/141.html">昨天收到LinkedIn一封邮件，一个猎头问我最近有没有跳槽的打算，我说没有，干的挺好，接着她又问，你有没有不满意的领导想让他走的？我瞬间蒙圈了。</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/141.html"><time class="published" datetime="2016-05-14T15:19:36+00:00">2016年5月14日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a>, <a href="/archives/category/%e6%97%a5%e5%b8%b8" rel="category tag">日常</a></span>
</div>
    </header>
    <div class="entry-content">
          </div>
  </div>
</article>
          <article data-page="7" class="post-139 post type-post status-publish format-aside hentry category-uncategorized category-17 post_format-post-format-aside dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">日志</div>
    <header>
      <h2 class="entry-title"><a href="/archives/139.html">腾讯企业邮箱免费版使用了两个月，必须得给个赞了。</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/139.html"><time class="published" datetime="2016-05-14T15:17:11+00:00">2016年5月14日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a>, <a href="/archives/category/%e6%97%a5%e5%b8%b8" rel="category tag">日常</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>·公司是个小团队，没加入之前，买的阿里的邮箱，从代理商买的，没有控制后台，无法支持邮件列表，更可气的是8000块钱只给了50个用户。</p>
<p>对于这些，绝对是不能忍的，坚持了段时间，终于把整个事情推动做成了，换成了腾讯企业邮箱。</p>
<p>一开始计划用QQ的域名邮箱，但是使用起来有些麻烦，同事都不是专业的，理解起来有困难，所以选了一圈，算来算去感觉还是得选一个企业邮箱。</p>
<p>试验过自己搭建一个，不稳定，而且容易受到攻击，不大靠谱。阿里的直接放弃，网易的免费版的申请起来竟然要好长时间，恶心。</p>
<p>最后非常不情愿的试了试腾讯，没想到还真挺不错的，免费版的基本就能够满足小团队的使用。</p>
<p>可以支持50个人，支持POP3和IMAP，跟Foxmail的客户端可以面配置，手机QQ邮箱可以免配置，微信绑定以后可以提醒，这就够了，唯一不满意的就是50个人的限制。</p>
<p>好在后来发现，竟然可以邀请好友扩容，哈哈，随便找了两个域名绑定验证一下，竟然瞬间人数增加到了150人，最高可以达到200，满足了！</p>
    </div>
  </div>
</article>
          <article data-page="7" class="post-132 post type-post status-publish format-status hentry category-uncategorized category-17 post_format-post-format-status dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">状态</div>
    <header>
      <h2 class="entry-title"><a href="/archives/132.html">等待了半年，终于让公司走上了信息的第一步，使用自己公司的邮箱，唉&#8211;</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/132.html"><time class="published" datetime="2016-04-22T13:49:23+00:00">2016年4月22日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a>, <a href="/archives/category/%e6%97%a5%e5%b8%b8" rel="category tag">日常</a></span>
</div>
    </header>
    <div class="entry-content">
          </div>
  </div>
</article>
          <article data-page="7" class="post-128 post type-post status-publish format-standard hentry category-uncategorized dwtl normal">
  <div class="entry-inner">
        <div class="entry-format">标准</div>
    <header>
      <h2 class="entry-title"><a href="/archives/128.html">高德API中AMap.TileLayer在iphone5,5s,6,6s中不正常显示图片的问题</a></h2>
      <div class="entry-meta">
	<span class="entry-author">
				<span class="byline author vcard">
			By <a href="/archives/author/admin" rel="author" class="fn">武鹏</a>
		</span>
	</span>
	<span class="sep">&bull;</span>
	<span class="entry-date">On <a href="/archives/128.html"><time class="published" datetime="2016-04-13T17:25:03+00:00">2016年4月13日</time></a></span>
	<span class="sep">&bull;</span>
	<span class="cat-links">In 
	<a href="/archives/category/uncategorized" rel="category tag">技术总结分享</a></span>
</div>
    </header>
    <div class="entry-content">
      <p>最近在做一个移动版的地图应用，其中用到了高德的自定义图层，参考实例http://lbs.amap.com/api/javascript-api/example/layers/custom-grid-map/</p>
<p>具体代码参考这里</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5df718af0dc56743802098" class="crayon-syntax crayon-theme-tomorrow-night crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">AMap.TileLayer的示例</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;script&gt;
var map = new AMap.Map('container', {
resizeEnable: true
});
var googleLayer = null;
// 添加Google图层
function addGoogleLayer() {
googleLayer = new AMap.TileLayer({
// 图块取图地址
tileUrl: 'http://mt{1,2,3,0}.google.cn/vt/lyrs=m@142&amp;hl=zh-CN&amp;gl=cn&amp;x=[x]&amp;y=[y]&amp;z=[z]&amp;s=Galil'
});
googleLayer.setMap(map);
}
&lt;/script&gt;</textarea></div>
			<div class="crayon-main" style=" max-height: 500px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5df718af0dc56743802098-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af0dc56743802098-2">2</div><div class="crayon-num" data-line="crayon-5df718af0dc56743802098-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af0dc56743802098-4">4</div><div class="crayon-num" data-line="crayon-5df718af0dc56743802098-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af0dc56743802098-6">6</div><div class="crayon-num" data-line="crayon-5df718af0dc56743802098-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af0dc56743802098-8">8</div><div class="crayon-num" data-line="crayon-5df718af0dc56743802098-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af0dc56743802098-10">10</div><div class="crayon-num" data-line="crayon-5df718af0dc56743802098-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af0dc56743802098-12">12</div><div class="crayon-num" data-line="crayon-5df718af0dc56743802098-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5df718af0dc56743802098-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5df718af0dc56743802098-1"><span class="crayon-ta">&lt;script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af0dc56743802098-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">map</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-e">Map</span><span class="crayon-sy">(</span><span class="crayon-s">'container'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5df718af0dc56743802098-3"><span class="crayon-v">resizeEnable</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af0dc56743802098-4"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718af0dc56743802098-5"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">googleLayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af0dc56743802098-6"><span class="crayon-c">// 添加Google图层</span></div><div class="crayon-line" id="crayon-5df718af0dc56743802098-7"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">addGoogleLayer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af0dc56743802098-8"><span class="crayon-v">googleLayer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">AMap</span><span class="crayon-sy">.</span><span class="crayon-e">TileLayer</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5df718af0dc56743802098-9"><span class="crayon-c">// 图块取图地址</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af0dc56743802098-10"><span class="crayon-v">tileUrl</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'http://mt{1,2,3,0}.google.cn/vt/lyrs=m@142&amp;hl=zh-CN&amp;gl=cn&amp;x=[x]&amp;y=[y]&amp;z=[z]&amp;s=Galil'</span></div><div class="crayon-line" id="crayon-5df718af0dc56743802098-11"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af0dc56743802098-12"><span class="crayon-v">googleLayer</span><span class="crayon-sy">.</span><span class="crayon-e">setMap</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5df718af0dc56743802098-13"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5df718af0dc56743802098-14"><span class="crayon-ta">&lt;/script&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>自己写代码时如果把方法addGooleLayer的代码一出来在页面加载时就执行，就会出现这样的情况：</p>
<p>iphone6 plus,6s plus，iphone 4s正常，但是小屏幕的iphone 5,5s 6, 6s竟然无法显示图片，真是出奇，android各版本均显示正常。</p>
<p>调试了半天找不出问题来，真是各种奇怪，后来实在没办法，直接写一个方法放进去，然后五秒钟后执行贴图，竟然<span style="color: #ff0000;">行了</span>，真是B了狗了，不理解这个API怎么弄的。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
    </div>
  </div>
</article>
    
          <nav class="post-nav">
        <ul class="pager">
          <li class="previous"><a href="/archives/category/uncategorized/page/8" >&larr; Older posts</a></li>
          <li class="next"><a href="/archives/category/uncategorized/page/6" >Newer posts &rarr;</a></li>
        </ul>
      </nav>
      </div>      </main>
    </div>
  </div>
  <div class="bottom-info">
<div style="font-size: 12px;text-align: center;padding:28px 0 0 0">@娱乐性质的个人Blog，技术文章居多，偶发性会有深思文，请谨慎关注，随意转发，如果可以请把出处写上
</div>
<div style="font-size: 10px;text-align: center;padding:5px 0 0 0">联系我，个人微博，Twitter，FaceBook等等各种账号，请@tiaobug，Email: i@tiaobug.com
</div>
<div style="font-size: 12px;text-align: center;padding:5px 0 12px 0 ">鲁ICP备17013530号
</div>
</div><script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/jquery.infinitescroll.min.js?ver=4.8.12'></script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/vendor/bootstrap-3.0.3.min.js?ver=4.8.12'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var dwtl = {"template_directory_uri":"http:\/\/www.tiaobug.com\/wp-content\/themes\/dw-timeline"};
var infinitescroll = {"page":"page","the_end":"the end"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/dw-timeline/assets/js/scripts.js?ver=4.8.12'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.8.12'></script>

</body>
</html>
